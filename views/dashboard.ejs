<% layout('layout/boilerplate')%>
<style>
    .side{
       height: 100vh;
        background-color: darkblue;
        width:30%;
        float: left;
    }
    .main{
        width:70%;
        float: left;
    }
    table td,table th{
        border: 2px solid black ;
        border-left: 2px solid black;
    }
    table th{
        font-size: 25px;
        font-weight: bold;
    }
    
    .len{
        font-size: 50px;
        color:darkblue;
    }
    .ncc{
        text-decoration: none;
        font-size: medium;
        color: black;
    }
    #chart_div{
        height: 300px;
        width:300px;
    }
    
</style>

        <div class="container side">
            <div class="row">
                <div class="col-6 offset-4 my-3">
                    <% if(display==1){ %>
                        <a href="/dashboard" class="btn btn-light btn-lg my-3"><i class="fa-solid fa-chart-line"></i> Dashboard</a>
                        <br>
                    <% } %>  
                        <a href="/map" class="btn btn-light btn-lg"><i class="fa-solid fa-map"></i> Map  View</a>
                </div>
            </div>
                <marquee behavior="" direction="" class="text-white"><h3>View users in Map</h3></marquee>
                <div class="row my-3">
                    <div class="col-lg-6 offset-3">
                        <form action="/dashboard" method="post">
                            <div class="form-group mb-3">
                                <select class="form-control" id="inputState" name="state">
                                    <option value="SelectState">Select State</option>
                                    <option value="Andra Pradesh">Andra Pradesh</option>
                                    <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                    <option value="Assam">Assam</option>
                                    <option value="Bihar">Bihar</option>
                                    <option value="Chhattisgarh">Chhattisgarh</option>
                                    <option value="Goa">Goa</option>
                                    <option value="Gujarat">Gujarat</option>
                                    <option value="Haryana">Haryana</option>
                                    <option value="Himachal Pradesh">Himachal Pradesh</option>
                                    <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                    <option value="Jharkhand">Jharkhand</option>
                                    <option value="Karnataka">Karnataka</option>
                                    <option value="Kerala">Kerala</option>
                                    <option value="Madya Pradesh">Madya Pradesh</option>
                                    <option value="Maharashtra">Maharashtra</option>
                                    <option value="Manipur">Manipur</option>
                                    <option value="Meghalaya">Meghalaya</option>
                                    <option value="Mizoram">Mizoram</option>
                                    <option value="Nagaland">Nagaland</option>
                                    <option value="Orissa">Orissa</option>
                                    <option value="Punjab">Punjab</option>
                                    <option value="Rajasthan">Rajasthan</option>
                                    <option value="Sikkim">Sikkim</option>
                                    <option value="Tamil Nadu">Tamil Nadu</option>
                                    <option value="Telangana">Telangana</option>
                                    <option value="Tripura">Tripura</option>
                                    <option value="Uttaranchal">Uttaranchal</option>
                                    <option value="Uttar Pradesh">Uttar Pradesh</option>
                                    <option value="West Bengal">West Bengal</option>
                                    <option disabled style="background-color:#aaa; color:#fff">UNION Territories</option>
                                    <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                                    <option value="Chandigarh">Chandigarh</option>
                                    <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
                                    <option value="Daman and Diu">Daman and Diu</option>
                                    <option value="Delhi">Delhi</option>
                                    <option value="Lakshadeep">Lakshadeep</option>
                                    <option value="Pondicherry">Pondicherry</option>
                                </select>
                            </div>
                            <div class="form-group mb-3">
                                <select class="form-control" id="inputDistrict" name="district">
                                    <option value="">SELECT DISTRICT</option>
                                </select>
                            </div>
                    <div class="d-grid gap-2">
                            <button class="bnt btn-light">Sort </button>
                    </div> 
                        </form>
                </div>
            </div>


            <div class="row text-center">
               

                
                <h2 class="text-white text-center">Total</h2>
                <div class="col-md-4">
                    <p class="len text-white"><%= users.length  %> </p>
                    <p class="text-white len">Users</p>
                </div>
                
                <div class="col-md-4">
                    <p class="len text-white"><%= ncc.length  %> </p>
                    <p class="len text-white"> Ncc</p> 
                </div>
                <div class="col-md-4">
                    <p class="len text-white"><%= nss.length  %> </p>
                    <p class="text-white len">Nss</p>
                </div>
            </div>
        
    </div>




        <div class="main text-center mb-3">
                <div class="text-center">
                    <h1 class="display-3">Dashboard</h1>
                </div>
                <div id="piechart_3d" style="width: 900px; height: 500px;"></div>
                <div id="ncc_gender"></div>
                <div id="nss_gender"></div>
                <div id="columnchart_values" style="width: 900px; height: 300px;"></div>
                </div>
             
               
               
               <script>
                        const ncc  = <%-JSON.stringify(ncc)%>;
               const nss= <%- JSON.stringify(nss) %>;
               const user = <%-JSON.stringify(users)%>;
               const sw = <%-sw%>;
                const sd=<%-sd%>;
                const male = <%-male%>;
                const female=<%-female%>;
               </script>
                
                <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
                <script type="text/javascript">
                  google.charts.load("current", {packages:['corechart']});
                  google.charts.setOnLoadCallback(drawChart);
                  function drawChart() {
                    var data = google.visualization.arrayToDataTable([
                      ["Element", "Density", { role: "style" } ],
                      ["Copper", 8.94, "#b87333"],
                      ["Silver", 10.49, "silver"],
                      ["Gold", 19.30, "gold"],
                      ["Platinum", 21.45, "color: #e5e4e2"]
                    ]);
              
                    var view = new google.visualization.DataView(data);
                    view.setColumns([0, 1,
                                     { calc: "stringify",
                                       sourceColumn: 1,
                                       type: "string",
                                       role: "annotation" },
                                     2]);
              
                    var options = {
                      title: "USERS PER MONTH",
                      width: 600,
                      height: 400,
                      bar: {groupWidth: "95%"},
                      legend: { position: "none" },
                    };
                    var chart = new google.visualization.ColumnChart(document.getElementById("columnchart_values"));
                    chart.draw(view, options);
                }
                </script>
              

<script src="/javascripts/total.js"></script>
<script src="/javascripts/data.js"></script>
