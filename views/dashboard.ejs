<% layout('layout/boilerplate')%>
<style>
    .side{
       height: 100vh;
        background-color: darkblue;
        width:30%;
        float: left;
    }
    .main{
        width:70%;
        float: left;
    }
    table td,table th{
        border: 2px solid black ;
        border-left: 2px solid black;
    }
    table th{
        font-size: 25px;
        font-weight: bold;
    }
    
    .len{
        font-size: 50px;
        color:darkblue;
    }
    .ncc{
        text-decoration: none;
        font-size: medium;
        color: black;
    }
    #chart_div{
        height: 300px;
        width:300px;
    }
    
</style>

        <div class="container side">
            <div class="row">
                <div class="col-6 offset-4 my-3">
                    <% if(display==1){ %>
                        <a href="/dashboard" class="btn btn-light btn-lg my-3"><i class="fa-solid fa-chart-line"></i> Dashboard</a>
                        <br>
                    <% } %>  
                        <a href="/map" class="btn btn-light btn-lg"><i class="fa-solid fa-map"></i> Map  View</a>
                </div>
            </div>
                <marquee behavior="" direction="" class="text-white"><h3>View users in Map</h3></marquee>
                <div class="row my-3">
                    <div class="col-lg-6 offset-3">
                        <form action="/dashboard" method="post">
                            <div class="form-group mb-3">
                                <select class="form-control" id="inputState" name="state">
                                    <option value="SelectState">Select State</option>
                                    <option value="Andra Pradesh">Andra Pradesh</option>
                                    <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                    <option value="Assam">Assam</option>
                                    <option value="Bihar">Bihar</option>
                                    <option value="Chhattisgarh">Chhattisgarh</option>
                                    <option value="Goa">Goa</option>
                                    <option value="Gujarat">Gujarat</option>
                                    <option value="Haryana">Haryana</option>
                                    <option value="Himachal Pradesh">Himachal Pradesh</option>
                                    <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                    <option value="Jharkhand">Jharkhand</option>
                                    <option value="Karnataka">Karnataka</option>
                                    <option value="Kerala">Kerala</option>
                                    <option value="Madya Pradesh">Madya Pradesh</option>
                                    <option value="Maharashtra">Maharashtra</option>
                                    <option value="Manipur">Manipur</option>
                                    <option value="Meghalaya">Meghalaya</option>
                                    <option value="Mizoram">Mizoram</option>
                                    <option value="Nagaland">Nagaland</option>
                                    <option value="Orissa">Orissa</option>
                                    <option value="Punjab">Punjab</option>
                                    <option value="Rajasthan">Rajasthan</option>
                                    <option value="Sikkim">Sikkim</option>
                                    <option value="Tamil Nadu">Tamil Nadu</option>
                                    <option value="Telangana">Telangana</option>
                                    <option value="Tripura">Tripura</option>
                                    <option value="Uttaranchal">Uttaranchal</option>
                                    <option value="Uttar Pradesh">Uttar Pradesh</option>
                                    <option value="West Bengal">West Bengal</option>
                                    <option disabled style="background-color:#aaa; color:#fff">UNION Territories</option>
                                    <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                                    <option value="Chandigarh">Chandigarh</option>
                                    <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
                                    <option value="Daman and Diu">Daman and Diu</option>
                                    <option value="Delhi">Delhi</option>
                                    <option value="Lakshadeep">Lakshadeep</option>
                                    <option value="Pondicherry">Pondicherry</option>
                                </select>
                            </div>
                            <div class="form-group mb-3">
                                <select class="form-control" id="inputDistrict" name="district">
                                    <option value="">SELECT DISTRICT</option>
                                </select>
                            </div>
                    <div class="d-grid gap-2">
                            <button class="bnt btn-light">Sort </button>
                    </div> 
                        </form>
                </div>
            </div>


            <div class="row text-center">
               

                
                <h2 class="text-white text-center">Total</h2>
                <div class="col-md-4">
                    <p class="len text-white"><%= users.length  %> </p>
                    <p class="text-white len">Users</p>
                </div>
                
                <div class="col-md-4">
                    <p class="len text-white"><%= ncc.length  %> </p>
                    <p class="len text-white"> Ncc</p> 
                </div>
                <div class="col-md-4">
                    <p class="len text-white"><%= nss.length  %> </p>
                    <p class="text-white len">Nss</p>
                </div>
            </div>
        
    </div>




        <div class="main text-center mb-3">
                <div class="text-center">
                    <h1 class="display-3">Dashboard</h1>
                </div>
                <div id="chart_div" ></div>
                </div>
                
               
                
                
       
    


<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script >

        const ncc  = <%-JSON.stringify(ncc)%>;
        const nss= <%- JSON.stringify(nss) %>;
        const user = <%-JSON.stringify(users)%>;
      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChart);

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChart() {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Topping');
        data.addColumn('number', 'Slices');
        data.addRows([
          ['ncc',ncc.length],
          ['nss',nss.length],
          ['user',user.length]
         
        ]);

        // Set chart options
        var options = {'title':'Community around India',
                       'width':1000,
                       'height':500};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
crossorigin="anonymous"></script>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
crossorigin="anonymous"></script>
<script src="/javascripts/data.js"></script>
